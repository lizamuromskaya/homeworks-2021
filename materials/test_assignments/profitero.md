http://www.viovet.co.uk/Pet_Foods_Diets-Dogs-Hills_Pet_Nutrition-Hills_Prescription_Diets/c233_234_2678_93/category.html

По урлу находится категория вебсайта, который занимается продажей товаров для животных.
Нужно собрать все товары из категории и записать в csv файл.

По каждому товару нужно собрать
а) название
б) цену
в) изображение
г) срок доставки
д) код товара

вот пример страниц товара
http://www.viovet.co.uk/Pet_Foods_Diets-Dogs-Hills_Pet_Nutrition-Hills_Prescription_Diets-Hills_Prescription_H/D_Diets/c233_234_2678_93_98/category.html

такую страницу мы называем страницей мультипродукта. Это означает, что на одной странице находится информация о нескольких разновидностях продукта. В данном случае разная весовка : Dry » 5kg Bag, Wet » 12 x 370g Cans и т.д.

С этой страницы в выходной файл должно быть добавлено 2 записи
1)
Название: Hills Prescription Diet H/D Dog Food -  Dry » 5kg Bag
Цена: 35.69
Изображение: http://static2.viovet.co.uk/pi/created_1350058090.png
Срок доставки: Estimated dispatch within 24 working hours.
Код товара: 110321

2), …. по шаблону

Обрати внимание на:
а) название сформировано, как общее название продукта Hills Prescription Diet H/D Dog Food плюс весовка из таблицы Dry » 5kg Bag

Как все должно быть оформлено

Должна быть написана программа/скрипт на Ruby. Программа на вход получает 1) ссылку (ссылка на страницу категории) 2) имя файла в который будет записан результат

Скрипт отрабатывает и результаты записывает в выходной файл с заданными именем.

В тестовом задании нужно использовать xpath для получения содержимого html элементов, таких как цена, срок доставки, код и т.п. Возможно, понадобится использовать regexp для того чтобы достать отдельные части данных, если xpath недостаточно.

для скачивания страниц нужно использовать open-uri или curb (желательно), для парсинга страниц
